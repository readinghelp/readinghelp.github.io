<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Reading Helper</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="navbar">
    <a href="index.html">HOME</a>
    <a href="reader.html">READER</a>
    <a href="reader2.html">INPUT(BETA)</a>
    <a href="settings.html">SETTINGS</a>
  </div>
  <h2>Reader Settings</h2>

  <!-- Font size -->
  <label for="font-size">Font size:
    <input type="range" id="font-size" min="12" max="36" value="16">
    <span id="font-size-value">16</span>px
  </label>

  <!-- TTS speed -->
  <label for="tts-rate">TTS speed:
    <input type="range" id="tts-rate" min="0.2" max="2" step="0.1" value="0.5">
    <span id="tts-rate-value">0.5</span>x
  </label>

  <!-- TTS pitch -->
  <label for="tts-pitch">TTS pitch:
    <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1">
    <span id="tts-pitch-value">1</span>
  </label>

  <button onclick="saveSettings()">Save Settings</button>

  <script>
    let settings = {
      FontSize: 16,
      ttsRate: 0.5,
      ttsPitch: 1,
      theme: "light"
    };

    // Load saved settings
    window.addEventListener("DOMContentLoaded", () => {
      const saved = localStorage.getItem("reader-settings");
      if (saved) {
        settings = JSON.parse(saved);
      }
      updateMenuUI();

      // Live preview of values
      ["font-size", "tts-rate", "tts-pitch"].forEach(id => {
        const el = document.getElementById(id);
        if (el) {
          el.addEventListener("input", (e) => {
            document.getElementById(id + "-value").innerText = e.target.value;
          });
        }
      });
    });

    function saveSettings() {
      settings.FontSize = parseInt(document.getElementById("font-size").value);
      settings.ttsRate = parseFloat(document.getElementById("tts-rate").value);
      settings.ttsPitch = parseFloat(document.getElementById("tts-pitch").value);
      settings.theme = document.getElementById("theme").value;

      localStorage.setItem("reader-settings", JSON.stringify(settings));
    }

    function updateMenuUI() {
      document.getElementById("font-size").value = settings.FontSize;
      document.getElementById("font-size-value").innerText = settings.FontSize;

      document.getElementById("tts-rate").value = settings.ttsRate;
      document.getElementById("tts-rate-value").innerText = settings.ttsRate;

      document.getElementById("tts-pitch").value = settings.ttsPitch;
      document.getElementById("tts-pitch-value").innerText = settings.ttsPitch;

      document.getElementById("theme").value = settings.theme;
    }
  </script>
</body>
</html>